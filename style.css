@import url('https://fonts.googleapis.com/css2?family=Marck+Script&family=Roboto:wght@300;400&display=swap');

html, body {
  margin: 0; padding: 0; height: 100%;
  overflow-x: hidden;
  font-family: 'Roboto', sans-serif;
  color: white;
}

/* Звёздное небо */
#stars {
  position: fixed; inset: 0;
  z-index: -1; background: black;
}

/* Intro */
.intro {
  min-height: 100vh; display: flex; flex-direction: column;
  justify-content: center; align-items: center; position: relative; text-align: center;
}

h1 {
  font-family: 'Marck Script', cursive;
  font-size: clamp(3rem, 6vw, 5rem);
  margin-bottom: 20px;
  opacity: 0; transform: translateY(-20px);
  animation: fadeIn 1s ease forwards;
}
@keyframes fadeIn { to { opacity: 1; transform: translateY(0); } }

.scroll-down {
  background: none; border: none; color: white; font-size: 2.5rem;
  position: absolute; bottom: 40px; left: 50%; transform: translateX(-50%);
  opacity: 0; cursor: pointer;
  animation: fadeInArrow 0.8s ease forwards 1.2s, arrowBounce 2s infinite 2s;
}
.scroll-down:focus { outline: none; }
@keyframes arrowBounce {
  0%,20%,50%,80%,100% { transform: translateX(-50%) translateY(0); }
  40% { transform: translateX(-50%) translateY(8px); }
  60% { transform: translateX(-50%) translateY(4px); }
}
@keyframes fadeInArrow {
  from { opacity: 0; transform: translateX(-50%) translateY(10px); }
  to   { opacity: 1; transform: translateX(-50%) translateY(0); }
}

/* Карточки */
.letter {
  display: flex; flex-direction: column; gap: 20px;
  padding: 40px 20px; max-width: 900px; margin: auto;
}
.card {
  background: rgba(255,255,255,0.08); backdrop-filter: blur(5px);
  border-radius: 15px; padding: 20px; opacity: 0; transform: translateY(30px);
  transition: opacity 1s ease, transform 1s ease; box-shadow: 0 4px 20px rgba(0,0,0,0.4);
}
.card.visible { opacity: 1; transform: translateY(0); }
.card p { font-size: clamp(1rem, 2.5vw, 1.2rem); margin: 0; }
.underline { text-decoration: underline; }

@media (max-width: 600px) {
  .scroll-down { font-size: 2rem; bottom: 20px; }
}

/* Музыка */
#music-controls {
  position: fixed; top: 20px; right: 20px; display: flex; align-items: center; gap: 15px; z-index: 1001;
}
.music-btn {
  width: 40px; height: 40px; border-radius: 50%;
  background: rgba(255,255,255,0.2);
  display: flex; align-items: center; justify-content: center;
  font-size: 1.2em; cursor: pointer; backdrop-filter: blur(5px);
  transition: all 0.3s;
}
.music-btn:hover { background: rgba(255,255,255,0.3); transform: scale(1.1); }
.volume-slider {
  width: 120px; -webkit-appearance: none; height: 5px; border-radius: 5px;
  background: rgba(255,255,255,0.3); outline: none;
}
.volume-slider::-webkit-slider-thumb {
  -webkit-appearance: none; width: 15px; height: 15px; border-radius: 50%; background: white; cursor: pointer;
}

/* Док-панель */
.fab-dock{
  position: fixed;
  right: max(16px, env(safe-area-inset-right));
  bottom: calc(16px + env(safe-area-inset-bottom));
  z-index: 1002;
  display: flex; gap: 10px;
  background: rgba(0,0,0,0.55); backdrop-filter: blur(8px);
  padding: 8px; border-radius: 999px;
  box-shadow: 0 8px 24px rgba(0,0,0,0.35);
}
.dock-btn{
  padding: 10px 14px; border: none; border-radius: 999px;
  background: rgba(255,255,255,0.18); color: #fff; font-weight: 500; cursor: pointer;
  transition: transform .15s ease, background .2s ease; white-space: nowrap;
}
.dock-btn:hover{ transform: translateY(-1px); background: rgba(255,255,255,0.28); }
@media (max-width: 420px){ .fab-dock{ flex-direction: column; align-items: stretch; } }

/* Модалка */
.memory-backdrop {
  position: fixed; inset: 0; background: rgba(0,0,0,0.45); backdrop-filter: blur(2px);
  z-index: 1003; animation: fadeIn .2s ease forwards;
}
.memory-dialog { position: fixed; inset: 0; display: grid; place-items: center; z-index: 1004; }
.memory-card {
  width: min(680px, 92vw); background: rgba(255,255,255,0.08); backdrop-filter: blur(10px);
  border-radius: 16px; padding: 20px; box-shadow: 0 12px 40px rgba(0,0,0,0.45);
  transform: translateY(10px); opacity: 0; animation: popIn .25s ease forwards;
}
@keyframes popIn { to { transform: translateY(0); opacity: 1; } }
.memory-sub { opacity: 0.8; margin-top: -6px; }
.memory-text {
  width: 100%; margin-top: 12px; background: rgba(255,255,255,0.12); color: #fff;
  border: 1px solid rgba(255,255,255,0.25); border-radius: 12px; padding: 12px 14px; outline: none; resize: vertical;
}
.memory-text:focus { border-color: rgba(255,255,255,0.5); }
.memory-actions { display: flex; gap: 10px; justify-content: flex-end; margin-top: 14px; }
.btn { padding: 10px 14px; border-radius: 10px; border: none; cursor: pointer; font-weight: 500; box-shadow: 0 6px 18px rgba(0,0,0,0.25); }
.btn-primary { background: #6aa9ff; color: #0b1220; }
.btn-primary:hover { filter: brightness(1.08); }
.btn-secondary { background: rgba(255,255,255,0.2); color: #fff; }
.btn-secondary:hover { background: rgba(255,255,255,0.3); }

/* Toast */
.toast {
  position: fixed; left: 50%; bottom: 24px; transform: translateX(-50%) translateY(12px);
  background: rgba(255,255,255,0.92); color: #0b1220; padding: 10px 14px; border-radius: 12px;
  box-shadow: 0 10px 30px rgba(0,0,0,0.3); z-index: 1005; opacity: 0;
  transition: opacity .2s ease, transform .2s ease;
}
.toast.show { opacity: 1; transform: translateX(-50%) translateY(0); }

/* Секрет */
.secret {
  max-width: 900px; margin: 40px auto 80px auto; padding: 0 20px;
  opacity: 0; transform: translateY(16px);
  transition: opacity .6s ease, transform .6s ease;
}
.secret.visible { opacity: 1; transform: translateY(0); }
.secret-card {
  background: rgba(255,255,255,0.10); border-radius: 16px; padding: 22px; text-align: center;
  box-shadow: 0 6px 24px rgba(0,0,0,0.35);
  font-size: clamp(1.05rem, 2.4vw, 1.25rem); line-height: 1.6;
}

/* служебные */
[hidden]{ display: none !important; }

/* чтобы док не перекрывал низ */
body { padding-bottom: 96px; }
@media (max-width: 420px){ body { padding-bottom: 120px; } }
